# ============================================
# ClickPro Portal - Environment Configuration
# ============================================
# Copie este arquivo para .env.local e configure as variáveis
# Para gerar secrets seguros: openssl rand -base64 32

# ----------------------------------------
# Database Configuration (Required)
# ----------------------------------------
# URL de conexão PostgreSQL para Prisma ORM
# Formato: postgresql://user:password@host:5432/database?sslmode=require
#
# IMPORTANTE: Para Vercel, configure esta variável em:
# Settings > Environment Variables > Para TODOS os ambientes (Production, Preview, Development)
#
# Nota sobre sslmode: pg-connection-string v2.x trata 'require' como 'verify-full'.
# O app adiciona automaticamente uselibpqcompat=true para usar semântica libpq padrão.
# Para verificação completa do certificado, use sslmode=verify-full explicitamente.
#
# Para Supabase Pooler (porta 6543) - recomendado para serverless:
# DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?sslmode=verify-full&pgbouncer=true
DATABASE_URL=postgresql://user:password@localhost:5432/clickpro?sslmode=require

# ----------------------------------------
# SSL Configuration (Vercel Serverless)
# ----------------------------------------
# RECOMMENDED: Set SUPABASE_CA_CERT with the certificate content.
# The app will write it to /tmp/supabase-ca.crt at runtime.
# This is the most reliable method for Vercel serverless functions.
#
# To get the certificate content, run:
#   cat portal/certs/supabase-prod-ca.crt
# Then paste the entire content (including BEGIN/END lines) as the value.
#
# SUPABASE_CA_CERT=-----BEGIN CERTIFICATE-----\nMIID...rest of cert...\n-----END CERTIFICATE-----
#
# ALTERNATIVE: Use file-based paths (less reliable due to Vercel root directory issues)
# PGSSLROOTCERT=/var/task/certs/supabase-prod-ca.crt
# Or if root directory is repo root:
# PGSSLROOTCERT=/var/task/portal/certs/supabase-prod-ca.crt

# ----------------------------------------
# Authentication (Required)
# ----------------------------------------
# Secret para criptografia de sessões NextAuth
# Gere com: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret_here

# URL base onde a aplicação está hospedada
# Desenvolvimento: http://localhost:3000
# Produção: https://seu-dominio.vercel.app
NEXTAUTH_URL=http://localhost:3000

# ----------------------------------------
# OAuth Providers (Optional)
# ----------------------------------------
# Google OAuth - https://console.cloud.google.com/apis/credentials
# Callback URL: {NEXTAUTH_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth - https://github.com/settings/developers
# Callback URL: {NEXTAUTH_URL}/api/auth/callback/github
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ----------------------------------------
# License Management (Required)
# ----------------------------------------
# Secret para assinatura de tokens JWT de licença
# Gere com: openssl rand -base64 32
LICENSE_SIGNING_SECRET=your_license_signing_secret_here

# ----------------------------------------
# Admin Setup (Required for first run)
# ----------------------------------------
# Secret para autorizar a criação do super admin via API
# Gere com: openssl rand -base64 32
SETUP_SECRET=your_setup_secret_here

# Credenciais do administrador inicial (opcional)
# Se não definidas, use a interface web para criar
ADMIN_SEED_EMAIL=admin@example.com
ADMIN_SEED_PASSWORD=SecurePassword123!

# ----------------------------------------
# API Configuration (Optional)
# ----------------------------------------
# URL da API do ClickPro para chamadas client-side
# Deve apontar para o servidor WhatsApp Integration
# NEXT_PUBLIC_CLICKPRO_API_URL=http://localhost:3001

# ----------------------------------------
# Runtime Environment (Optional)
# ----------------------------------------
# Ambiente de execução: development | production | test
# NODE_ENV=development
